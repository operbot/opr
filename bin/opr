#!/usr/bin/env python3
# This file is placed in the Public Domain.
# pylint: disable=C0116,C0413,W0212


"write your own commands"


import importlib
import importlib.util
import os
import sys


sys.path.insert(0, os.getcwd())


from opr import Cfg, CLI, Command, Wd
from opr import command, launch, parse, scan, scandir, scanpkg, wait
from opr import boot, importer, wrap


import opmod


Wd.workdir = os.path.expanduser("~/.opr")


def main():
    boot(" ".join(sys.argv[1:]))
    scanpkg(opmod, importer, Cfg.sets.mods or "cmds,log,shl,tdo")
    scandir("mod", importer, Cfg.sets.mods)
    cli = CLI()
    command(cli, Cfg.otxt)


wrap(main)
